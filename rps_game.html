<!DOCTYPE html>
<html>
        <head>

        </head>
        <body>
            <p>
                Rock Paper Scissors
            </p>

            <button onclick="playGame('rock')">
                Rock
            </button>

            <button onclick="playGame('paper')">
                Paper
            </button>

            <button onclick="playGame('scissors')">
                Scissors
            </button>

            <button onclick="
                score.wins = 0;
                score.ties = 0;
                score.losses = 0;
                alert('Score reset');
                localStorage.removeItem('score');
            ">
                Reset Score
            </button>
 
            <script>
                // Initialize score from localStorage or default to 0 if first time playing
                  score = JSON.parse(localStorage.getItem('score')) || {
                    wins: 0,
                    ties: 0,
                    losses: 0
                };

                function playGame(userMove){
                    const compMove = computerMove();
                    gameResult = '';

                    if (userMove === 'rock'){
                        if (compMove === 'rock'){
                        gameResult = "It's a tie";
                        }
                        else if (compMove === 'paper'){
                            gameResult = 'You lose';
                        }
                        else if (compMove === 'scissors'){
                            gameResult = 'You win';
                        }
                    }
                    else if (userMove === 'paper'){
                        if (compMove === 'rock'){
                        gameResult = 'You win';
                        }
                        else if (compMove === 'paper'){
                            gameResult = "It's a tie";
                        }
                        else if (compMove === 'scissors'){
                            gameResult = 'You lose';
                        }
                    }
                    else if (userMove === 'scissors'){
                        if (compMove === 'rock'){
                        gameResult = 'You lose';
                        }
                        else if (compMove === 'paper'){
                            gameResult = 'You win';
                        }
                        else if (compMove === 'scissors'){
                            gameResult = "It's a tie";
                        }
                    }

                    if (gameResult === 'You win'){
                        score.wins += 1;
                    }
                    else if (gameResult === "It's a tie"){
                        score.ties += 1;
                    }
                    else if (gameResult === "You lose"){
                        score.losses += 1;
                    }

                    localStorage.setItem('score', JSON.stringify(score)); //saves values even though page reload

                    alert(`${gameResult}. You picked ${userMove}. Computer picked ${compMove}.
Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`);
                }

                function computerMove(){
                let compMove = '';
                const randomNum = Math.random();
                if (randomNum <= 1/3){
                    compMove = 'rock';
                }
                else if (randomNum <= 2/3){
                    compMove = 'paper';
                }
                else{
                    compMove = 'scissors';
                }

                return compMove;
                }
            </script>

        </body>
</html>